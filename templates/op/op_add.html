{% include "default/header.html" %}
{% include "default/op_left.html" %}



<div id="content-block" class="col-sm-11 col-md-10">
      <div class="navbar content-navbar navbar-default navbar-xs" data-toggle="breakpoint" data-class-xs="navbar content-navbar navbar-inverse navbar-xs"  data-class-sm="navbar content-navbar navbar-default navbar-xs">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle pull-left" onclick="javascript: history.back();"><i class="icon-arrow-left"></i></button><a class="navbar-brand" data-toggle="collapse" data-target="#top-nav .navbar-collapse">增加 报障</a>
        </div>
      </div>
        <form class="exform form-horizontal" action="opadd" method="post" id="post_form">
            {% csrf_token %}
            <div class="form-container row clearfix" >
                <div id="column-0" class="formColumn column form-column full col col-sm-12 form-horizontal"  horizontal="True" span="12">
                    <div class="panel panel-default fieldset unsort no_title" id="box-0" ><div class="panel-heading">
                        <i class='icon icon-chevron-up chevron'></i><h3 class="panel-title"></h3></div><div class="panel-body " ><div id="div_id_fault_type" class="form-group">
                        <label for="id_fault_type" class="control-label ">故障类型</label>
                        <div class="controls ">
                            <div class="control-wrap" id="id_fault_type_wrap_container">
                                {{ uf.fault_type }}
                            </div>
                        </div>
                    </div>
                        <div id="div_id_Source" class="form-group"><label for="id_Source" class="control-label ">
                            报障来原
                        </label><div class="controls "><div class="control-wrap" id="id_Source_wrap_container">
                            {{ uf.Source }}
                        </div></div></div><div id="div_id_title" class="form-group"><label for="id_title" class="control-label ">
                            故障描述
                        </label><div class="controls "><input class="text-field admintextinputwidget form-control" id="id_title" maxlength="64" name="title" type="text" /> </div></div><div id="div_id_Occur_date" class="form-group"><label for="id_Occur_date_0" class="control-label  requiredField">
                            发生时间<span class="asteriskField">*</span></label><div class="controls "><div class="datetime clearfix"><div class="input-group date bootstrap-datepicker"><span class="input-group-addon"><i class="icon-calendar"></i></span><input class="date-field admindatewidget form-control" id="id_Occur_date_0" name="Occur_date_0" size="10" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">今天</button> </span></div><div class="input-group time bootstrap-timepicker"><span class="input-group-addon"><i class="icon-time"></i></span><input class="time-field admintimewidget form-control" id="id_Occur_date_1" name="Occur_date_1" size="8" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">现在</button> </span></div></div></div></div><div id="div_id_Discovery_date" class="form-group"><label for="id_Discovery_date_0" class="control-label  requiredField">
                            发现时间<span class="asteriskField">*</span></label><div class="controls "><div class="datetime clearfix"><div class="input-group date bootstrap-datepicker"><span class="input-group-addon"><i class="icon-calendar"></i></span><input class="date-field admindatewidget form-control" id="id_Discovery_date_0" name="Discovery_date_0" size="10" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">今天</button> </span></div><div class="input-group time bootstrap-timepicker"><span class="input-group-addon"><i class="icon-time"></i></span><input class="time-field admintimewidget form-control" id="id_Discovery_date_1" name="Discovery_date_1" size="8" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">现在</button> </span></div></div></div></div><div id="div_id_Solve_date" class="form-group"><label for="id_Solve_date_0" class="control-label ">
                            解决时间
                        </label><div class="controls "><div class="datetime clearfix"><div class="input-group date bootstrap-datepicker"><span class="input-group-addon"><i class="icon-calendar"></i></span><input class="date-field admindatewidget form-control" id="id_Solve_date_0" name="Solve_date_0" size="10" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">今天</button> </span></div><div class="input-group time bootstrap-timepicker"><span class="input-group-addon"><i class="icon-time"></i></span><input class="time-field admintimewidget form-control" id="id_Solve_date_1" name="Solve_date_1" size="8" type="text" /> <span class="input-group-btn"><button class="btn btn-default" type="button">现在</button> </span></div></div></div></div><div id="div_id_content" class="form-group"><label for="id_content" class="control-label ">
                            处理过程分析
                        </label><div class="controls "><textarea id="editor" name="content" style="width:auto;height:auto;"></textarea></div></div></div></div></div></div>
                    <div class="form-actions well well-sm clearfix">
                          <div class="btn-group clearfix show-xs save-group col-xs-12">
                              <button type="submit" class="default btn btn-primary col-xs-10" name="_save" data-loading-text="保存中.." /><i class="icon-save"></i> 保存</button>
                              <button type="button" class="more btn btn-primary col-xs-2" data-toggle="collapse" data-target=".nav-collapse.more-btns"><i class="icon-ellipsis-vertical"></i></button>
                          </div>
                          <button type="submit" class="default btn btn-primary hide-xs" name="_save" data-loading-text="保存中.." /><i class="icon-save"></i> 保存</button>
                    </div>
        </form>
    </div>


{#编缉器JS#}
<script type="text/javascript">
    var ue=new UE.ui.Editor();
    ue.render('editor');
    ue.addListener("selectionchange",function(){
        var state = ue.queryCommandState("source");
        var btndiv = document.getElementById("btns");
        if(btndiv){
            if(state){
                btndiv.style.display = "none";
            }else{
                btndiv.style.display = "";
            }
        }

    });
    function getContent(){
        var arr = [];
        arr.push("使用editor.getContent()方法可以获得编辑器的内容");
        arr.push("内容为：");
        arr.push(ue.getContent());
        alert(arr.join("\n"));
    }
    function getPlainTxt(){
        var arr = [];
        arr.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容");
        arr.push("内容为：");
        arr.push(ue.getPlainTxt());
        alert(arr.join('\n'))
    }
    function setContent(){
        var arr = [];
        arr.push("使用editor.setContent('欢迎使用ueditor')方法可以设置编辑器的内容");
        ue.setContent('欢迎使用ueditor');
        alert(arr.join("\n"));
    }

    function getText(){
        //当你点击按钮时编辑区域已经失去了焦点，如果直接用getText将不会得到内容，所以要在选回来，然后取得内容
        var range = ue.selection.getRange();
        range.select();
        var txt = ue.selection.getText();
        alert(txt)
    }

    function testueditor(){
            mycontent=ue.getContentTxt();
            alert(mycontent);
    }

    function insertueditor(){
            ue.execCommand('insertHtml',"自定义插件，我的名片        ");
    }

    function getContentTxt(){
        var arr = [];
        arr.push("使用editor.getContentTxt()方法可以获得编辑器的纯文本内容");
        arr.push("编辑器的纯文本内容为：");
        arr.push(ue.getContentTxt());
        alert(arr.join("\n"));
    }
    function hasContent(){
        var arr = [];
        arr.push("使用editor.hasContents()方法判断编辑器里是否有内容");
        arr.push("判断结果为：");
        arr.push(ue.hasContents());
        alert(arr.join("\n"));
    }
    function setFocus(){
        ue.focus();

    }
    function deleteEditor(){
        var div = document.getElementById('allbtn');
        var btns = baidu.editor.dom.domUtils.getElementsByTagName(div,"a");
        for(var i=0,btn;btn=btns[i++];){
                    btn.style.cssText = "color:#ccc;text-decoration:none;cursor:default";
            btn.onclick = function(){
                return false;
            };
        }
        ue.destroy();
    }
        function setEnabled(){
            var div = document.getElementById('allbtn');
        var btns = baidu.editor.dom.domUtils.getElementsByTagName(div,"a");
        for(var i=0,btn;btn=btns[i++];){
                        btn.style.cssText = "color:#3E3E3E;text-decoration:none;cursor:pointer";
        }
            ue.setEnabled();
        }
        function setDisable(){
            var div = document.getElementById('allbtn');
        var btns = baidu.editor.dom.domUtils.getElementsByTagName(div,"a");
        for(var i=0,btn;btn=btns[i++];){
                    if(btn.innerHTML != "可以编辑"){
                                btn.style.cssText = "color:#ccc;text-decoration:none;cursor:default";
                        }
        }
            ue.setDisabled("fullscreen");
        }

</script>

<!-- baidu ueditor end -->

 {% include "default/footer.html" %}